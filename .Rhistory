x -> 0
x <- 0
y <- 5
x*x + y *y
# The linkedin and facebook vectors have already been created for you
linkedin <- c(16, 9, 13, 5, 2, 17, 14)
# Define the interpret_all() function
# views: vector with data to interpret
# return_sum: return total number of views on popular days?
interpret_all <- function(views, return_sum = TRUE) {
count <- 0
for (v in views) {
x = interpret(v)
count <- count + x
}
if (return_sum == TRUE) {
return(count)
} else {
NULL
}
}
debug(interpret_all)
debug(interpret)
# Call the interpret_all() function on both linkedin and facebook
interpret_all(linkedin)
install.packages("devtools")
file.exists("~/.ssh/id_rsa.pub")
ex <- read.csv()
ex <- read.csv("F:\\springboard\\wrangling problem\\refine_original")
ex <- read.csv("F:\springboard\wrangling problem\refine_original")
ex <- read.csv(file = "F:\\springboard\\wrangling problem\\refine_original")
ex <- read.csv(file = "F:\\springboard\\wrangling problem\\refine_original.csv")
ex
refine_df <- data.frame(ex)
refine_df
head(refine_df)
refine_df(company)
refine_df[1]
getwd()
setwd("F:/Git/capstone-project")
# Read and plot
library("tidyverse")
#read all file
voyagefile <- "F:\\Git\\capstone project\\dataSets\\V_Dim_Voyage.csv"
voypnlfile <- "F:\\Git\\capstone project\\dataSets\\V_Fact_VoyPNL.csv"
portfile <- "F:\\Git\\capstone project\\dataSets\\V_Dim_Ports.csv"
vesselfile <- "F:\\Git\\capstone project\\dataSets\\V_Dim_Vessel.csv"
voyage.data <- read.csv(voyagefile, na.strings=c("","NA"), stringsAsFactors = FALSE)
#str(voyage.data)
#summary(voyage.data)
voypnl.data <- read.csv(voypnlfile, na.strings=c("","NA"), stringsAsFactors = FALSE)
#str(voypnl.data)
#summary(voypnl.data)
vessel.data <- read.csv(vesselfile, na.strings=c("","NA"), stringsAsFactors = FALSE)
#str(voypnl.data)
#summary(voypnl.data)
ports.data <- read.csv(portfile, na.strings=c("","NA"), stringsAsFactors = FALSE)
#glimpse(ports.data)
#summary(ports.data)
colnames(vessel.data)
colnames(voyage.data)
colnames(voypnl.data)
colnames(ports.data)
#"Fact_VoyPNL_Id" %in% colnames(vessel.data)
#"Fact_VoyPNL_Id" %in% colnames(voyage.data)
#"Fact_VoyPNL_Id" %in% colnames(voypnl.data)
#a <- colnames(voypnl.data)
#head(voypnl.data[,"Fact_VoyPNL_Id"])
#voypnl.data[(BatchId==96)&(data_type=="A")&(vsl_type=="AFRAMAX")&,]
#"Remarks" %in% colnames(vessel.data)
View(ports.data)
View(vessel.data)
View(voyage.data)
View(voypnl.data)
ggplot(voypnl.data, aes(x=Fkey_DimTime_CompletedGMT, y=tcEquv_Act, col=vsl_type)) +
geom_point()
glimpse(voypnl.data)
voypnl.data.clear <- filter(voyage.data, Fkey_Dim_Voyage_Id != "-1")
voypnl.data.clear <- filter(voyage.data, voypnl.data$Fkey_Dim_Voyage_Id != "-1")
voypnl.data.clear <- filter(voypnl.data, voypnl.data$Fkey_Dim_Voyage_Id != "-1")
View(voypnl.data.clear)
ggplot(voypnl.data.clear, aes(x=Fkey_DimTime_CompletedGMT, y=tcEquv_Act, col=vsl_type)) +
geom_point()
glimpse(voypnl.data.clear)
ggplot(voypnl.data.clear, aes(x=Fkey_DimTime_CompletedGMT, y=tcEquv_Act, col=vsl_type)) +
geom_point()
ggplot(voypnl.data.clear, aes(x=vsl_type, y=tcEquv_Act, col=vsl_type)) +
geom_point()
ggplot(voypnl.data.clear, aes(x=vsl_type, y=tcEquv_Act, col=vsl_type)) +
scale_y_continuous(limits = c(0,200000)) +
geom_point()
vessel.data.clear <- filter(vessel.data, voessel.data$Dim_Vessel_Id != "-1")
voyage.data.clear <- filter(voyage.data, voyage.data$Dim_Voyage_Id != "-1")
ports.data.clear <- filter(ports.data, ports.data$Dim_Ports_Id != "-1")
vessel.data.clear <- filter(vessel.data, vessel.data$Dim_Vessel_Id != "-1")
summary(voyage.data.clear)
voypnl.data.clear.vsltype1 <- filter(voyage.data.clear, vsl_type = "HANDYMAX")
voypnl.data.clear.vsltype1 <- filter(voyage.data.clear, vsl_type == "HANDYMAX")
voypnl.data.clear.vsltype1 <- filter(voyage.data.clear, voyage.data.clear$vsl_type == "HANDYMAX")
voypnl.data.clear.vsltype1 <- filter(voypnl.data.clear, voypnl.data.clear$vsl_type == "HANDYMAX")
ggplot(voypnl.data.clear.vsltype1, aes(x=data_type, y=tcEquv_Act, col=BatchId)) +
geom_point()
voypnl.data.clear.vsltype1 <- filter(voypnl.data.clear, voypnl.data.clear$vsl_type == "HANDYMAX" & voypnl.data.clear$data_type == "A")
ggplot(voypnl.data.clear.vsltype1, aes(x=tcEquv_Act, y=BatchId)) +
geom_smooth()
View(voypnl.data.clear.vsltype1)
ggplot(voypnl.data.clear.vsltype1, aes(x=tcEquv_Act, y=BatchId)) +
geom_point()
ggplot(voypnl.data.clear.vsltype1, aes(x=BatchId, y=tcEquv_Act)) +
geom_point()
voypnl.data.clear.vsltype1 <- filter(voypnl.data.clear, voypnl.data.clear$vsl_type == "HANDYMAX" & voypnl.data.clear$data_type == "A" & voypnl.data.clear$BatchId == "96")
ggplot(voypnl.data.clear.vsltype1, aes(x=Fkey_DimTime_CompletedGMT, y=tcEquv_Act)) +
geom_point()
head(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT)
as.date(head(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT))
as.Date(head(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT))
as.Date(20130525)
as.Date("20130525")
as.Date("20130525",format="%Y%m%d")
voypnl.data.clear.vsltype1$dateformat <- as.Date(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT,format="%Y%m%d")
as.Date(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT,format="%Y%m%d")
as.Date(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT)
voypnl.data.clear.vsltype1$dateformat <- as.Date(str(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT),format="%Y%m%d")
voypnl.data.clear.vsltype1$dateformat <- as.Date(as.character(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT),format="%Y%m%d")
head(voypnl.data.clear.vsltype1$dateformat)
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_point()
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
ggplot(voypnl.data.clear.vsltype1[1:10,], aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
View(voypnl.data.clear.vsltype1)
185586 + 1054
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
head(voypnl.data.clear.vsltype1[,c("Fkey_DimTime_CompletedGMT","tcEquv_Act")])
voypnl.data.clear.vsltype1 <- voypnl.data.clear[voypnl.data.clear$vsl_type == "HANDYMAX" & voypnl.data.clear$data_type == "A" & voypnl.data.clear$BatchId == "96",]
#ggplot(voypnl.data.clear.vsltype1, aes(x=vsl_type, y=tcEquv_Act, col=vsl_type)) +
#  geom_point()
voypnl.data.clear.vsltype1$dateformat <- as.Date(as.character(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT),format="%Y%m%d")
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
#"Remarks" %in% colnames(vessel.data)
# removing records with Fkey_Dim_Voyage_Id = -1
voypnl.data.clear <- voypnl.data[voypnl.data$Fkey_Dim_Voyage_Id != "-1",]
voypnl.data.clear.vsltype1 <- voypnl.data.clear[voypnl.data.clear$vsl_type == "HANDYMAX" & voypnl.data.clear$data_type == "A" & voypnl.data.clear$BatchId == "96",]
#ggplot(voypnl.data.clear.vsltype1, aes(x=vsl_type, y=tcEquv_Act, col=vsl_type)) +
#  geom_point()
voypnl.data.clear.vsltype1$dateformat <- as.Date(as.character(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT),format="%Y%m%d")
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
voypnl.data <- read.csv(voypnlfile, na.strings=c("","NA"), stringsAsFactors = FALSE)
#"Remarks" %in% colnames(vessel.data)
# removing records with Fkey_Dim_Voyage_Id = -1
voypnl.data.clear <- voypnl.data[voypnl.data$Fkey_Dim_Voyage_Id != "-1",]
head(voypnl.data.clear)
voypnl.data.clear.vsltype1 <- voypnl.data.clear[voypnl.data.clear$vsl_type == "HANDYMAX" & voypnl.data.clear$data_type == "A" & voypnl.data.clear$BatchId == "96",]
#ggplot(voypnl.data.clear.vsltype1, aes(x=vsl_type, y=tcEquv_Act, col=vsl_type)) +
#  geom_point()
voypnl.data.clear.vsltype1$dateformat <- as.Date(as.character(voypnl.data.clear.vsltype1$Fkey_DimTime_CompletedGMT),format="%Y%m%d")
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
head(voypnl.data.clear.vsltype1[,c("Fkey_DimTime_CompletedGMT","tcEquv_Act")])
voypnl.data.clear.vsltype1 <- voypnl.data.clear.vsltype1[order(dateformat),]
voypnl.data.clear.vsltype1 <- voypnl.data.clear.vsltype1[order(voypnl.data.clear.vsltype1$dateformat),]
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
ggplot(voypnl.data.clear.vsltype1, aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
head(voypnl.data.clear.vsltype1$dateformat)
head(voypnl.data.clear.vsltype1[,c("Fkey_DimTime_CompletedGMT","tcEquv_Act")])
tail(voypnl.data.clear.vsltype1[,c("Fkey_DimTime_CompletedGMT","tcEquv_Act")])
ggplot(tail(voypnl.data.clear.vsltype1), aes(x=dateformat, y=tcEquv_Act)) +
geom_line()
ggplot(tail(voypnl.data.clear.vsltype1), aes(x=dateformat, y=tcEquv_Act)) +
geom_point()
v1<-voypnl.data.clear.vsltype1
v2<- voypnl.data.clear[voypnl.data.clear$data_type=='A' & voypnl.data.clear$BatchId=="96",]
div(20180501, 10000)
mod
2018050110000
v2$year <- v2$Fkey_DimTime_CompletedGMT %/% 10000
head(v2$year)
avgpnl <- mean(v2$tcEquv_Act)group_by(v2$vsl_type)
avgpnl <- mean(v2$tcEquv_Act) %>% group_by(v2, v2$vsl_type)
avgpnl <- v2 %>% mean(v2$tcEquv_Act) %>% group_by(v2,vsl_type,year)
glimpse(v2)
avgpnl <- group_by(v2,vsl_type,year)
(avgpnl <- group_by(v2,vsl_type,year))
head(avgpnl <- group_by(v2,vsl_type,year))
View(avgpnl)
avgpnl <- group_by(v2,year)
View(avgpnl)
avgpnl <- v2 %>% mean(tcEquv_Act) %>% group_by(vsl_type,year)
avgpnl <- v2 %>% mean(tcEquv_Act, na.rm = TRUE) %>% group_by(vsl_type,year)
avgpnl <- v2 %>% group_by(vsl_type,year)
ggplot(avgpnl, aes(x=vsl_type, y = mean(tcEquv_Act), col=year)) +
geom_bar()
aggregate(v2[,c("tcEquv_Act")],list(v2$year), mean)
aggregate(v2[,c("tcEquv_Act")],list(v2$year,v2$vsl_type), mean)
avgv2 <- aggregate(v2[,c("tcEquv_Act")],list(v2$year,v2$vsl_type), mean)
colnames(avgv2)
ggplot(avgv2, aes(x=Group.2,y=x, col=Group.1)) +
geom_bar()
ggplot(avgv2, aes(x=Group.2,y=x, col=Group.1)) +
geom_bar(stat="identity")
ggplot(avgv2, aes(x=Group.2,y=x, col=Group.1)) +
geom_bar(stat="identity",position = "dodge")
avgv2 <- aggregate(v2[,c("tcEquv_Act")],list(year=v2$year,vsl_type=v2$vsl_type), mean)
colnames(avgv2)
avgv2 <- aggregate(v2[,c("tcEquv_Act")],list(year=v2$year,vsl_type=v2$vsl_type), avg_Act=mean)
avgv2 <- aggregate(v2[,c("tcEquv_Act")],list(year=v2$year,vsl_type=v2$vsl_type), mean)
colnames(avgv2)
ggplot(avgv2, aes(x=vsl_type,y=x, col=year)) +
geom_bar(stat="identity",position = "dodge")
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(stat="identity",position = "dodge")+
facet_grid(.~year)
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
summary(cars)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
summary(cars)
pdf()
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(stat="identity",position = "dodge")+
facet_grid(.~year)
?pdf
pdf(file = "plots.pdf", paper = "a4")
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(stat="identity",position = "dodge")+
facet_grid(.~year)
dev.off()
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(fill = factor(vsl_type), stat="identity",position = "dodge")+
facet_grid(.~year)
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(fill = factor(year), stat="identity",position = "dodge")+
facet_grid(.~year)
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(aes(fill = factor(year)), stat="identity",position = "dodge")+
facet_grid(.~year)
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(aes(fill = factor(year)), stat="identity",position = "dodge")+
facet_grid(.~year)
ggplot(avgv2, aes(x=vsl_type,y=x)) +
geom_bar(stat="identity",position = "dodge")+
facet_grid(.~year)
